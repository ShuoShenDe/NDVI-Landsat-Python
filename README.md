è½¯ä»¶è¯¦ç»†è®¾è®¡

ğŸ’¡ ç¼–å†™ç›®çš„
æœ¬é¡¹ç›®æ¥æºäºç°ä»£åŒ–åŸå¸‚ç”Ÿæ€æ–‡æ˜å’Œæ™ºæ…§åŸå¸‚å»ºè®¾çš„å®é™…éœ€æ±‚ï¼Œåˆ©ç”¨é•¿æ—¶é—´åºåˆ—ï¼ˆ2010-2019ï¼‰Landsaté¥æ„Ÿå½±åƒä¸ºåŸå§‹æ•°æ®æºï¼Œé‡‡ç”¨è¾ƒå…ˆè¿›çš„æ¤è¢«æå–ç®—æ³•ï¼ˆæŒ‡æ•°ï¼‰ï¼Œå¯¹åŸå¸‚å‘å±•è¿‡ç¨‹ä¸­åŸå¸‚ç»¿åœ°æŒ‰å¹´é™…è·Ÿè¸ªå˜åŒ–ï¼Œå®ŒæˆåŸºäºæ¤è¢«æŒ‡æ•°çš„åˆè‚¥åœ°åŒºåŸå¸‚ç»¿åœ°å˜åŒ–æ£€æµ‹ç³»ç»Ÿè®¾è®¡ä¸å®ç°ï¼ŒæŒæ¡åŸå¸‚ç»¿åœ°ç©ºé—´åˆ†å¸ƒï¼ˆè§„æ¨¡ã€å½¢çŠ¶ã€è¾¹ç•Œã€é¢ç§¯ï¼‰ï¼ŒåŠ¨æ€å˜åŒ–å’Œå‘å±•è¶‹åŠ¿ï¼Œç»˜åˆ¶ä¸åŒå¹´ä»½çš„åŸå¸‚ç»¿åœ°ç©ºé—´åˆ†å¸ƒå›¾ï¼Œæ„å»ºåŸå¸‚ç»¿åœ°å˜åŒ–è§„å¾‹æ›²çº¿å›¾ï¼Œç³»ç»Ÿå®Œæˆé¥æ„Ÿå½±åƒçš„è¯»å–ï¼Œç»¿åœ°æå–å’Œå˜åŒ–æ£€æµ‹ï¼ŒæŒ‰å¹´ä»½è¾“å‡ºç»¿åœ°å˜åŒ–å›¾åƒï¼Œè¯¥ç³»ç»Ÿä¸ºåŸå¸‚ç”Ÿæ€æ–‡æ˜å»ºè®¾æä¾›å¿…è¦çš„æŠ€æœ¯æ”¯æ’‘å’Œè§„åˆ’å‚è€ƒã€‚

ğŸ–ï¸ æ€»ä½“è¦æ±‚ï¼š
        å®Œæˆæ‰€éœ€é¥æ„Ÿå½±åƒçš„é¢„å¤„ç†ï¼Œé€‰å–åˆé€‚çš„æ¤è¢«æå–ç®—æ³•æˆ–æŒ‡æ•°ï¼Œå®Œæˆæ¯å¹´åˆè‚¥åœ°åŒºåŸå¸‚ç»¿åœ°åˆ¶å›¾ï¼Œæ¯”è¾ƒæ¯å¹´ç»¿åœ°å˜åŒ–æƒ…å†µï¼ŒæŒ‰å¹´é™…æ„å»ºç»¿åœ°å˜åŒ–æ›²çº¿ï¼Œå®ŒæˆæŒ‰å¹´ä»½ç»Ÿè®¡çš„ç»¿åœ°å˜åŒ–æ£€æµ‹ç³»ç»Ÿè®¾è®¡ä¸å®ç°ï¼Œç³»ç»Ÿå®ç°è¯­è¨€ä¸é™ã€‚æ‰€æœ‰ç»“è®ºåº”ä»¥å®é™…æ•°æ®åšæ”¯æ’‘ã€‚
        è®¾è®¡æ¡Œé¢åº”ç”¨ç¨‹åºåˆ©ç”¨Landsatæ•°æ®ï¼ˆåœ°é¢åå°„ç‡æ•°æ®ï¼‰æå–åˆè‚¥å¸‚ç»¿åœ°ç©ºé—´åˆ†å¸ƒï¼ˆè§„æ¨¡ã€å½¢çŠ¶ã€è¾¹ç•Œã€é¢ç§¯ï¼‰ï¼Œä¸åŒå¹´ä»½çš„åŸå¸‚ç»¿åœ°ç©ºé—´åˆ†å¸ƒå›¾ï¼Œå¹¶ç›¸äº’æ¯”è¾ƒï¼Œç»Ÿè®¡ä¸åŒå¹´ä»½ç»¿åœ°é¢åŠçš„åŠ¨æ€å˜åŒ–å’Œå‘å±•è¶‹åŠ¿ï¼Œæ„å»ºåŸå¸‚ç»¿åœ°å˜åŒ–è§„å¾‹æ›²çº¿å›¾ã€‚
	
ğŸŒ ç¨‹åºåŠŸèƒ½åŠç»“æœæè¿°
1. é¥æ„Ÿå½±åƒçš„è¯»å–ï¼ˆè·¯å¾„é€‰å–ã€æ–‡ä»¶é€‰å–ï¼‰
2. é¥æ„Ÿå½±åƒçš„æ˜¾ç¤º
 3. ç»¿åœ°æå–ï¼ˆNDVIï¼‰
 4. ç»¿åœ°æå–ç»“æœæ˜¾ç¤ºï¼ˆåŒ…æ‹¬ç»¿åœ°çš„å½¢çŠ¶ã€ç©ºé—´åˆ†å¸ƒã€è¾¹ç•Œæ˜¾ç¤ºï¼‰
 5. ç»¿åœ°å˜åŒ–æ¯”è¾ƒï¼ˆä¸åŒå¹´ä»½ä¹‹é—´çš„æ¯”è¾ƒæ˜¾ç¤ºï¼‰
 6. ç»¿åœ°é¢ç§¯å˜åŒ–ç»Ÿè®¡
 
ğŸ—ºï¸ ç®—æ³•æè¿°
1. Landsatæ•°æ®[1]
2013å¹´2æœˆ11æ—¥ï¼Œç¾å›½èˆªç©ºèˆªå¤©å±€(NASA) æˆåŠŸå‘å°„Landsat-8å«æ˜Ÿã€‚Landsat-8å«æ˜Ÿä¸Šæºå¸¦ä¸¤ä¸ªä¼ æ„Ÿå™¨ï¼Œåˆ†åˆ«æ˜¯OLIé™†åœ°æˆåƒä»ª(Operational Land Imager)å’ŒTIRSçƒ­çº¢å¤–ä¼ æ„Ÿå™¨(Thermal Infrared Sensor)ã€‚
ã€€ã€€Landsat-8åœ¨ç©ºé—´åˆ†è¾¨ç‡å’Œå…‰è°±ç‰¹æ€§ç­‰æ–¹é¢ä¸Landsat 1-7ä¿æŒäº†åŸºæœ¬ä¸€è‡´ï¼Œå«æ˜Ÿä¸€å…±æœ‰11ä¸ªæ³¢æ®µï¼Œæ³¢æ®µ1-7ï¼Œ9-11çš„ç©ºé—´åˆ†è¾¨ç‡ä¸º30ç±³ï¼Œæ³¢æ®µ8ä¸º15ç±³åˆ†è¾¨ç‡çš„å…¨è‰²æ³¢æ®µï¼Œå«æ˜Ÿæ¯16å¤©å¯ä»¥å®ç°ä¸€æ¬¡å…¨çƒè¦†ç›–ã€‚
ä¼ æ„Ÿå™¨	æ³¢æ®µ	æ³¢é•¿èŒƒå›´/Î¼m	ä¿¡å™ªæ¯”	ç©ºé—´åˆ†è¾¨ç‡/m	ç”¨é€”è¯´æ˜
OLI	1-COASTAL/AEROSOL	0.43-0.45	130	30	æµ·å²¸å¸¦ç¯å¢ƒç›‘æµ‹
	2-Blue	0.45-0.51	130	30	å¯è§å…‰ä¸‰æ³¢æ®µ
çœŸå½©è‰²ç”¨äºåœ°ç‰©è¯†åˆ«ç­‰
	3-Green	0.53-0.59	100	30	
	4-Red	0.64-0.67	90	30	
	5-NIR	0.85-0.88	90	30	æ¤è¢«ä¿¡æ¯æå–
	6-SWIR1	1.57-1.65q	100	30	æ¤è¢«æ—±æƒ…ç›‘æµ‹ã€å¼ºç«ç›‘æµ‹ã€éƒ¨åˆ†çŸ¿ç‰©ä¿¡æ¯æå–
	7-SWIR2	2.11-2.29	100	30	
	8-PAN	0.50-0.68	80	15	åœ°ç‰©è¯†åˆ«ï¼Œæ•°æ®èåˆ
	9-Cirrus	1.36-1.38	50	30	å·äº‘æ£€æµ‹ï¼Œæ•°æ®è´¨é‡è¯„ä»·
TIRS	10-TIR	10.60-11.19	0.4K	100	åœ°è¡¨æ¸©åº¦åæ¼”ï¼Œç«ç¾æ£€æµ‹ï¼ŒåœŸå£¤æ¹¿åº¦è¯„ä»·ï¼Œå¤œé—´æˆåƒ
	11-TIR	11.50-12.51	0.4K	100	

2.NDVI
       è®¸å¤šç ”ç©¶è¡¨æ˜ï¼Œæ¤è¢«å…‰è°±â€œçº¢è¾¹â€å¯¹æ¤è¢«ç”Ÿé•¿çŠ¶å†µåæ˜ æ•æ„Ÿã€‚å…¶å®šä¹‰ä¸ºæ¤ç‰©åå°„å…‰è°±æ›²çº¿ä¸­æ–œç‡æœ€å¤§çš„ç‚¹ï¼Œä½äºæ³¢é•¿690â€”720 nmä¹‹é—´.
 
Figure1 æ¹¿åœ°ä¸»è¦æ¤ç‰©åå°„ç‡æ›²çº¿[2]
 
Figure2 åœ°ç‰©æ³¢æ™®æ•°æ®åº“æ›²çº¿[3]
 
æ ¹æ®ä¸Šå›¾æ˜¾ç¤ºï¼Œç»å¤§å¤šæ•°æ¤ç‰©åœ¨è¿‘çº¢å¤–å’Œçº¢è‰²æ³¢æ®µä¹‹é—´æœ‰ä¸€ä¸ªè·ƒè¿ï¼Œèƒ½å¤Ÿä¸å…¶ä»–åœ°ç‰©è¿›è¡ŒåŒºåˆ«ï¼Œå› æ­¤å°†å«æ˜Ÿå¯è§å…‰å’Œè¿‘çº¢å¤–æ³¢æ®µè¿›è¡Œç»„åˆï¼Œè¯†åˆ«å‡ºæ¤è¢«ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„æ–¹æ³•ä¸ºNDVIæ¤è¢«æŒ‡æ•°ã€‚
NDVI=ï¼ˆNIR-REDï¼‰/ï¼ˆNIR+REDï¼‰
æ¤è¢«æŒ‡æ•°æ˜¯å¯¹åœ°è¡¨æ¤è¢«çŠ¶å†µçš„ç®€å•ã€æœ‰æ•ˆå’Œç»éªŒçš„åº¦é‡,ç›®å‰å·²ç»å®šä¹‰äº†40å¤šç§æ¤è¢«æŒ‡æ•°,å¹¿æ³›åœ°åº”ç”¨åœ¨å…¨çƒä¸åŒºåŸŸåœŸåœ°è¦†ç›–ã€æ¤è¢«åˆ†ç±»å’Œç¯å¢ƒå˜åŒ–,ç¬¬ä¸€æ€§ç”Ÿäº§åŠ›åˆ†æ,ä½œç‰©å’Œç‰§è‰ä¼°äº§ã€å¹²æ—±ç›‘æµ‹ç­‰æ–¹é¢;å¹¶å·²ç»ä½œä¸ºå…¨çƒæ°”å€™æ¨¡å¼çš„ä¸€éƒ¨åˆ†è¢«é›†æˆåˆ°äº¤äº’å¼ç”Ÿç‰©åœˆæ¨¡å¼å’Œç”Ÿäº§æ•ˆç‡æ¨¡å¼ä¸­;ä¸”è¢«å¹¿æ³›åœ°ç”¨äºè¯¸å¦‚é¥¥è’æ—©æœŸè­¦å‘Šç³»ç»Ÿç­‰æ–¹é¢çš„é™†åœ°åº”ç”¨ã€‚

ğŸ—¿ ç»“æœ
1. é¥æ„Ÿå½±åƒçš„è¯»å–ï¼ˆè·¯å¾„é€‰å–ã€æ–‡ä»¶é€‰å–ï¼‰(200)
å½±åƒé¢„å¤„ç†ï¼Œéœ€è¦ç”¨åˆè‚¥çš„è¾¹ç•Œå¯¹å½±åƒåˆ‡å‰²ä¸€ä¸‹ï¼Œæ–‡ä»¶åœ¨imageä¸‹çš„â€œå®‰å¾½çœåˆè‚¥å¸‚.geojsonâ€é‡Œï¼Œæœ€å¥½æ˜¯åˆ‡å‰²æˆçŸ©å½¢ï¼ˆå› ä¸ºçŸ©é˜µé•¿å’Œå®½æ˜¯å›ºå®šçš„ï¼‰

è¿è¡Œmainprogram.py, å‡ºç°ç•Œé¢å¦‚ä¸‹å›¾ï¼š
![mainprogram](./image/mainprogram.png) 

æŒ‰è§„å®šé€‰å–å·²ç»æˆªå–å¥½çš„æ³¢æ®µ4ï¼Œ5å›¾ç‰‡(åœ¨æ–‡ä»¶å¤¹imageä¸‹ï¼Œåå­—ä¸ºï¼šClipå¹´ä»½_æ³¢æ®µæ•°.tif, ä¾‹ï¼šClip2015_band4)
 
2. é¥æ„Ÿå½±åƒçš„æ˜¾ç¤º(100)
é€‰å¥½åå¦‚ä¸‹å›¾æ‰€ç¤º, è¯·è®°å¾—è¾“å…¥æ­£ç¡®çš„å¹´ä»½(å’Œä¹‹åå‘½åä¸ç»Ÿè®¡ç»¿åœ°é¢ç§¯æœ‰å…³)
![showimage](./image/1.png) 
3. ç»¿åœ°æå–ï¼ˆNDVIï¼‰ï¼ˆ500ï¼‰
ç‚¹å‡»è®¡ç®—NDVIï¼ŒNDVIå…¬å¼ä¸ºNDVI=ï¼ˆNIR-REDï¼‰*100/ï¼ˆNIR+REDï¼‰
ä¹˜ä»¥100æ˜¯å› ä¸ºNDVIç®—å‡ºæ¥ä¸ºå°æ•°ï¼Œæ˜¾ç¤ºæ—¶å·®åˆ«ä¸å¤§ï¼Œå› æ­¤åŒ–æˆæ•´æ•°ï¼Œå›¾ä¸­è¾ƒç™½éƒ¨åˆ†ä¸ºæ¤ç‰©ã€‚
4. ç»¿åœ°æå–ç»“æœæ˜¾ç¤ºï¼ˆåŒ…æ‹¬ç»¿åœ°çš„å½¢çŠ¶ã€ç©ºé—´åˆ†å¸ƒã€è¾¹ç•Œæ˜¾ç¤ºï¼‰
5. ç»¿åœ°å˜åŒ–æ¯”è¾ƒï¼ˆä¸åŒå¹´ä»½ä¹‹é—´çš„æ¯”è¾ƒæ˜¾ç¤ºï¼‰ï¼ˆ700ï¼‰
è¿è¡ŒshowNDVI.py,æ˜¾ç¤ºï¼š
![showimage](./image/3.png) 
å¯ä»¥é€‰æ‹©æ—¶é—´åŒºé—´ï¼Œç‚¹å‡»ç»¿åœ°å˜åŒ–æ¯”è¾ƒå¯æ˜¾ç¤ºåŒºé—´å¹´æ‰€æœ‰çš„NDVIç»“æœ
![showimage](./image/2.png) 
 6. ç»¿åœ°é¢ç§¯å˜åŒ–ç»Ÿè®¡ï¼ˆ300ï¼‰
ç‚¹å‡»ç»¿åœ°é¢ç§¯ç»Ÿè®¡ï¼šå½“åˆ†è¾¨ç‡ä¸º1kmæ—¶ï¼Œä¸€ä¸ªåƒå…ƒä»£è¡¨åœ°é¢1kmX1kmçš„é¢ç§¯ï¼Œå³1km2ï¼›å½“åˆ†è¾¨ç‡ä¸º30mæ—¶ï¼Œä¸€ä¸ªåƒå…ƒä»£è¡¨åœ°é¢30mÃ—30mçš„é¢ç§¯
æ¤è¢«é¢ç§¯=åƒå…ƒä¸ªæ•°(NDVI>60)* 900/1000000km2
 
ğŸ•ï¸ ç¯å¢ƒé…ç½®
Python 3.7.4
å†…å­˜æº¢å‡ºé—®é¢˜ï¼š
Pycharmè®¾ç½®ï¼š
Help->Find Action->(type "VM Options")->(Click)"Edit Custom VM Options"
æ‰“å¼€pycharm64.exe.vmoptionsè¿›è¡Œç¼–è¾‘
ä¿®æ”¹-Xmx750m ä¸º -Xmx4096m     åˆ†é…4Gå†…å­˜ï¼Œè§†æƒ…å†µè€Œå®šã€‚
ä¿å­˜å¹¶é‡å¯pycharm
éœ€è¦C++14.0çš„ä¸€ä¸ªåº“
https://blog.csdn.net/qq_38295166/article/details/80704648

[1]https://blog.csdn.net/ddy_sweety/article/details/79729810

[2] http://www.ecologica.cn/stxb/ch/html/2014/20/stxb201301250160.htm

[3] https://www.360kuai.com/pc/94a94cee43a245968?cota=4&kuai_so=1&tj_url=so_rec&sign=360_e39369d1

å‚è€ƒï¼š QGIS Python API documentation project   https://qgis.org/pyqgis/3.4/

